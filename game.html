<!DOCTYPE html>


<html>
    <style type="text/css">
        div {
          
                      
          display:flex ;
    justify-content: center;
    align-items: center;
        }
        </style>
    <div id="exp">
       
    <div class="parent-div"></div>
<div id="demo">
    

</div>
</litle>
<form>
    
</form>



<body>
    

    
    <script>
     


        
             
           
       //lina bech ne5o N hiya taille mit3 tableau
   
       do {
           n = Number(prompt("size of the map (2->10) "));
            
       } while ((n < 2) || (n > 10));
       var f = n - 1;
       //lina bech nisne3e tableau de jeux (n * n)
       let arr = Array.from(Array(n), () => new Array(n).fill(" [?] "));
       let line = 1; // HETHI bliaset line win bech yabda    || w l rahi line ili enti fiha dima
       let column = 1; // HETHI bilaset colonne win bech yabda || w c rahi colinne ili enti fiha dima
   
       //HETHA ENTI BECH TIMCHI
   
   
   
   
      var rl=Math.floor(Math.random()*n); 
      var rc=Math.floor(Math.random()*n);
      console.log("rl,rc: ", rl, rc)                                                                         
       var test = 0; //o ken enti jewk behi o=0 si non bech tiwali 1 w lezm ti3ewd ta3ti move e5r
       previous_line = line;// HETHI bilaset joueur fi iteration 9abl fi line
       previous_column = column;// HETHI bilaset joueur fi iteration 9abl fi colonne
   
       var previous_line = line;
       var previous_column = column;
       //ch hiya move bi lowercase
       do {
           var NbSkin=prompt("chose your skin : 1:[T] , 2:\o/ , 3:[U.U] , 4:[Y.Y] ")
           if (NbSkin == 1) {
               skin="[T]";
               var test=true
           }
           else  if (NbSkin == 2) {
               skin="o/";
               var test=true
           }
           else  if (NbSkin == 3) {
               skin="U.U";
               var test=true
           }
           else  if (NbSkin == 4) {
               skin="Y.Y";
               var test=true
           }
           
       } while (test!=true);
       var ch = "Z";
       document.onkeydown=checkKeyPress;
       window.addEventListener("keypress", checkKeyPress, false);
       

       function checkKeyPress(key) { 
           var key;
            key = key || window.event;
           if (key.keyCode == "40") {
               if (f == line) {
                   console.log("error3")
                   test = 1;
                   line = line - 1;
               }
               arr[previous_line][previous_column] = "  ....  ";
   
               line = line + 1
               previous_line = line;
               previous_column = column;
   
               console.log(line, column, previous_line, previous_column);
               arr[line][column] = skin ;
               if ((line ==rl) && (column == rc)) {
                   alert("gg you won ");
       window.location.href ='https://kyppe.github.io/gamechest/menu.html';

               }
   
               var ch = "";
   
               for (let i = 0; i < n; i++) {
                   for (let j = 0; j < n; j++) {
                       ch += " " + arr[i][j] + "  ";
   
                   }
                   ch += "<br/>";
                   document.getElementById("demo").innerHTML = ch;
   
   
               };
           }
           else if (key.keyCode == "39") {
               if (f <= column) {
                   console.log("error1")
   
                   test = 1;
                   column = column - 1;
               }
               arr[previous_line][previous_column] = "  .....  ";
   
               column = column + 1
               previous_line = line;
               previous_column = column;
               console.log(line, column);
               arr[line][column] = skin
               if ((line ==rl) && (column == rc)) {
                   alert("gg you won ");
       window.location.href ='https://kyppe.github.io/gamechest/menu.html';

               };
   
               var ch = "";
   
               for (let i = 0; i < n; i++) {
                   for (let j = 0; j < n; j++) {
                       ch += " " + arr[i][j] + "  ";
   
                   }
                   ch += "<br/>";
                   document.getElementById("demo").innerHTML = ch;
   
               };
   
           } else if (key.keyCode == "38" ) {
               if (line == 0) {
                   console.log("error4")
   
                   test = 1;
                   line++;
               }
   
               arr[previous_line][previous_column] = "  .....  ";
   
               line = line - 1
               previous_line = line;
               previous_column = column;
               console.log(line, column);
               arr[line][column] =  skin
               if ((line ==rl) && (column == rc)) {
                   alert("gg you won ");
       window.location.href ='https://kyppe.github.io/gamechest/menu.html';

               };
   
               var ch = "";
   
               for (let i = 0; i < n; i++) {
                   for (let j = 0; j < n; j++) {
                       ch += " " + arr[i][j] + "  ";
   
                   }
                   ch += "<br/>";
                   document.getElementById("demo").innerHTML = ch;
   
               };
           } else if (key.keyCode == ("37")) {
               if (column == 0) {
                   console.log("error2")
   
                   test = 1;
                   column = column + 1;
               }
               arr[previous_line][previous_column] = "  .....  ";
               column = column - 1
               previous_line = line;
               previous_column = column;
               console.log(line, column);
               arr[line][column] = skin ;
               if ((line ==rl) && (column == rc)) {
                   alert("gg you won ");
       window.location.href ='https://kyppe.github.io/gamechest/menu.html';
               }
   
               var ch = "";
   
   
               for (let i = 0; i < n; i++) {
                   for (let j = 0; j < n; j++) {
                       ch += " " + arr[i][j] + "  ";
   
                   }
                   ch += "<br/>";
   
               }
   
               document.getElementById("demo").innerHTML = ch;
   
           }
       }
   
   
   
   
       arr[previous_line][previous_column] = "  ...  ";
       console.log(line, column);
       arr[line][column] = skin ;
   
       var ch = "";
   
       for (let i = 0; i < n; i++) {
           for (let j = 0; j < n; j++) {
               ch += " " + arr[i][j] + "  ";
   
           }
           ch += "<br/>";
   
       }
       document.getElementById("demo").innerHTML = ch;
      

       

   
   
   
   
   
   
   
   
   
   
   
   </script>
</body>

</html>
